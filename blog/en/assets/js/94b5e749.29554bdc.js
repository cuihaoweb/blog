"use strict";(self.webpackChunknext_js_guides=self.webpackChunknext_js_guides||[]).push([[8542],{5105:(e,o,n)=>{n.r(o),n.d(o,{assets:()=>a,contentTitle:()=>c,default:()=>k,frontMatter:()=>t,metadata:()=>r,toc:()=>l});var s=n(216),i=n(4506);const t={sidebar_position:2},c="cookies",r={id:"nextjs/server-api/cookies",title:"cookies",description:"next.js\u5141\u8bb8\u4f60\u901a\u8fc7 cookies() \u51fd\u6570\u4ece\u670d\u52a1\u5668\u7ec4\u4ef6\u8bfb\u53d6 HTTP \u4f20\u5165\u8bf7\u6c42 cookie\uff0c\u540c\u65f6\u4e5f\u652f\u6301\u5199\u5165 cookie\u3002",source:"@site/docs/nextjs/08.server-api/02.cookies.md",sourceDirName:"nextjs/08.server-api",slug:"/nextjs/server-api/cookies",permalink:"/ChBlog/en/docs/nextjs/server-api/cookies",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/nextjs/08.server-api/02.cookies.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"fetch",permalink:"/ChBlog/en/docs/nextjs/server-api/fetch"},next:{title:"headers",permalink:"/ChBlog/en/docs/nextjs/server-api/headers"}},a={},l=[{value:"cookies().get(name)",id:"cookiesgetname",level:2},{value:"cookies().getAll()",id:"cookiesgetall",level:2},{value:"cookies().has(name)",id:"cookieshasname",level:2},{value:"cookies().set(name, value, options)",id:"cookiessetname-value-options",level:2},{value:"cookies().delete(name)",id:"cookiesdeletename",level:2}];function d(e){const o={code:"code",h1:"h1",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.h1,{id:"cookies",children:"cookies"}),"\n",(0,s.jsxs)(o.p,{children:["next.js\u5141\u8bb8\u4f60\u901a\u8fc7 ",(0,s.jsx)(o.code,{children:"cookies()"})," \u51fd\u6570\u4ece\u670d\u52a1\u5668\u7ec4\u4ef6\u8bfb\u53d6 HTTP \u4f20\u5165\u8bf7\u6c42 cookie\uff0c\u540c\u65f6\u4e5f\u652f\u6301\u5199\u5165 cookie\u3002"]}),"\n",(0,s.jsx)(o.h2,{id:"cookiesgetname",children:"cookies().get(name)"}),"\n",(0,s.jsx)(o.p,{children:"\u4ececookies\u4e2d\u83b7\u53d6\u6307\u5b9a\u540d\u79f0\u7684cookie\u503c\u3002"}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-jsx",children:"import { cookies } from 'next/headers'\n \nexport default function Page() {\n  const cookieStore = cookies()\n  const theme = cookieStore.get('theme')\n  return '...'\n}\n"})}),"\n",(0,s.jsx)(o.h2,{id:"cookiesgetall",children:"cookies().getAll()"}),"\n",(0,s.jsx)(o.p,{children:"\u4ececookies\u4e2d\u83b7\u53d6\u6240\u6709cookie\u503c\u3002"}),"\n",(0,s.jsx)(o.h2,{id:"cookieshasname",children:"cookies().has(name)"}),"\n",(0,s.jsx)(o.p,{children:"\u5224\u65ad\u6307\u5b9a\u540d\u79f0\u7684cookie\u662f\u5426\u5b58\u5728\u3002"}),"\n",(0,s.jsx)(o.h2,{id:"cookiessetname-value-options",children:"cookies().set(name, value, options)"}),"\n",(0,s.jsx)(o.p,{children:"\u8bbe\u7f6e\u6307\u5b9a\u540d\u79f0\u7684cookie\u503c\u3002"}),"\n",(0,s.jsx)(o.pre,{children:(0,s.jsx)(o.code,{className:"language-jsx",children:"'use server'\n \nimport { cookies } from 'next/headers'\n \nasync function create(data) {\n  cookies().set('name', 'lee')\n  cookies().set('name', 'lee', { secure: true })\n  cookies().set({\n    name: 'name',\n    value: 'lee',\n    httpOnly: true,\n    path: '/',\n  })\n}\n"})}),"\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.code,{children:"options.maxAge"}),": \u8bbe\u7f6ecookie\u7684\u8fc7\u671f\u65f6\u95f4\uff0c\u5355\u4f4d\u4e3a\u79d2\u3002"]}),"\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.code,{children:"options.expires"}),": \u8bbe\u7f6ecookie\u7684\u8fc7\u671f\u65f6\u95f4\u6233\uff0c\u76f8\u6bd4maxAge\uff0cexpires\u662f\u4e00\u4e2a\u7edd\u5bf9\u65f6\u95f4\uff0c\u4f46\u662f\u53ef\u80fd\u4f1a\u6536\u5230\u65f6\u533a\u5f71\u54cd\u3002"]}),"\n"]}),"\n",(0,s.jsx)(o.h2,{id:"cookiesdeletename",children:"cookies().delete(name)"}),"\n",(0,s.jsx)(o.p,{children:"\u5220\u9664\u6307\u5b9a\u540d\u79f0\u7684cookie\u3002"})]})}function k(e={}){const{wrapper:o}={...(0,i.R)(),...e.components};return o?(0,s.jsx)(o,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},4506:(e,o,n)=>{n.d(o,{R:()=>c,x:()=>r});var s=n(6372);const i={},t=s.createContext(i);function c(e){const o=s.useContext(t);return s.useMemo((function(){return"function"==typeof e?e(o):{...o,...e}}),[o,e])}function r(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:c(e.components),s.createElement(t.Provider,{value:o},e.children)}}}]);