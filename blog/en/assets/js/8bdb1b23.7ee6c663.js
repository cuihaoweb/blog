"use strict";(self.webpackChunknext_js_guides=self.webpackChunknext_js_guides||[]).push([[79],{2161:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>a,contentTitle:()=>c,default:()=>p,frontMatter:()=>s,metadata:()=>d,toc:()=>o});var t=r(216),i=r(4506);const s={sidebar_position:10},c="redirect",d={id:"nextjs/server-api/redirect",title:"redirect",description:"\u8be5 redirect() \u5141\u8bb8\u4f60\u5c06\u7528\u6237\u91cd\u5b9a\u5411\u5230\u53e6\u4e00\u4e2a URL\u3002",source:"@site/docs/nextjs/08.server-api/10.redirect.md",sourceDirName:"nextjs/08.server-api",slug:"/nextjs/server-api/redirect",permalink:"/ChBlog/en/docs/nextjs/server-api/redirect",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/nextjs/08.server-api/10.redirect.md",tags:[],version:"current",sidebarPosition:10,frontMatter:{sidebar_position:10},sidebar:"tutorialSidebar",previous:{title:"notFound",permalink:"/ChBlog/en/docs/nextjs/server-api/notFound"},next:{title:"generateMetadata",permalink:"/ChBlog/en/docs/nextjs/server-data/generateMetadata"}},a={},o=[{value:"example",id:"example",level:2},{value:"\u91cd\u5b9a\u5411\u72b6\u6001\u7801",id:"\u91cd\u5b9a\u5411\u72b6\u6001\u7801",level:2},{value:"permanentRedirect",id:"permanentredirect",level:2}];function l(e){const n={code:"code",h1:"h1",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.h1,{id:"redirect",children:"redirect"}),"\n",(0,t.jsxs)(n.p,{children:["\u8be5 ",(0,t.jsx)(n.code,{children:"redirect()"})," \u5141\u8bb8\u4f60\u5c06\u7528\u6237\u91cd\u5b9a\u5411\u5230\u53e6\u4e00\u4e2a URL\u3002\nredirect \u53ef\u4ee5\u5728\u670d\u52a1\u5668\u7ec4\u4ef6\u3001\u8def\u7531\u5904\u7406\u7a0b\u5e8f\u548c\u670d\u52a1\u5668\u64cd\u4f5c\u4e2d\u4f7f\u7528\u3002"]}),"\n",(0,t.jsx)(n.h2,{id:"example",children:"example"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",metastring:'title="app/team/[id]/page.js"',children:"import { redirect } from 'next/navigation'\n \nasync function fetchTeam(id) {\n    const res = await fetch('https://...')\n    if (!res.ok) return undefined\n    return res.json()\n}\n\nexport default async function Profile({ params }) {\n    const team = await fetchTeam(params.id)\n    if (!team) {\n        redirect('/login')\n    }\n\n    // ...\n}\n"})}),"\n",(0,t.jsx)(n.h2,{id:"\u91cd\u5b9a\u5411\u72b6\u6001\u7801",children:"\u91cd\u5b9a\u5411\u72b6\u6001\u7801"}),"\n",(0,t.jsx)(n.p,{children:"\u5e38\u89c1\u91cd\u5b9a\u5411\u72b6\u6001\u7801\u6709\u8fd9\u4e9b\uff1a"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"301\uff1a\u8868\u793a\u8bf7\u6c42\u7684\u8d44\u6e90\u5df2\u6c38\u4e45\u79fb\u52a8\u5230\u65b0\u4f4d\u7f6e\u3002"}),"\n",(0,t.jsx)(n.li,{children:"302\uff1a\u8868\u793a\u8bf7\u6c42\u7684\u8d44\u6e90\u4e34\u65f6\u79fb\u52a8\u5230\u65b0\u4f4d\u7f6e\u3002"}),"\n",(0,t.jsx)(n.li,{children:"307\uff1a\u4e0e302\u7c7b\u4f3c\uff0c\u8868\u793a\u8bf7\u6c42\u7684\u8d44\u6e90\u4e34\u65f6\u79fb\u52a8\u5230\u65b0\u4f4d\u7f6e\u3002"}),"\n",(0,t.jsx)(n.li,{children:"308\uff1a\u4e0e301\u7c7b\u4f3c\uff0c\u8868\u793a\u8bf7\u6c42\u7684\u8d44\u6e90\u6c38\u4e45\u79fb\u52a8\u5230\u65b0\u4f4d\u7f6e\u3002\n\u6211\u4eec\u53d1\u73b0301\u548c307\uff0c302\u548c308\u662f\u4e00\u6837\u7684\uff0c\u4f46\u662f\u4e5f\u5b58\u5728\u4e00\u4e9b\u7ec6\u5fae\u7684\u5dee\u522b:"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"\u8bb8\u591a\u6d4f\u89c8\u5668\u5728\u4f7f\u7528 301\u3001302 \u65f6\u4f1a\u5c06\u5c06\u91cd\u5b9a\u5411\u7684\u8bf7\u6c42\u65b9\u6cd5\u4ece POST \u66f4\u6539\u4e3a GET request\uff0c\u800c\u4e0d\u7ba1\u6e90\u8bf7\u6c42\u65b9\u6cd5\u5982\u4f55\u3002\n\u800c 307 \u548c 308 \u4e0d\u4f1a\u6539\u53d8\u8bf7\u6c42\u7684\u65b9\u6cd5\uff0c\u8bf7\u6c42\u662fPOST, \u91cd\u5b9a\u5411\u540e\u8fd8\u662fPOST\u3002"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.code,{children:"next.js \u4e2d\u7684redirect()\u65b9\u6cd5\u9ed8\u8ba4\u4f7f\u7528307\u4e34\u65f6\u91cd\u5b9a\u5411"})}),"\n",(0,t.jsx)(n.h2,{id:"permanentredirect",children:"permanentRedirect"}),"\n",(0,t.jsxs)(n.p,{children:["\u5982\u679c\u4f60\u60f3\u4f7f\u7528308\u6c38\u4e45\u91cd\u5b9a\u5411\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528 ",(0,t.jsx)(n.code,{children:"permanentRedirect()"})," \u65b9\u6cd5\u3002\u5177\u4f53\u7684\u4f7f\u7528\u65b9\u6cd5\u548c ",(0,t.jsx)(n.code,{children:"redirect()"})," \u4e00\u6837\u3002"]})]})}function p(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(l,{...e})}):l(e)}},4506:(e,n,r)=>{r.d(n,{R:()=>c,x:()=>d});var t=r(6372);const i={},s=t.createContext(i);function c(e){const n=t.useContext(s);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:c(e.components),t.createElement(s.Provider,{value:n},e.children)}}}]);